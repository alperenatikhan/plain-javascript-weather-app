<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">

</head>

<body>

  <section>
    <div class="container-fluid m-5 p-1">
      <div class="row text-center">
        <div class="col-8.center">

          <input id="city-input" placeholder="Please enter the city name">
          <input type="button" onclick="handleSubmit()">


        </div>
        <div class="col-8">
          <h1 class="text-center p-3" id="root">
            </p>
        </div>
      </div>
    </div>

  </section>

  <script>
    function handleSubmit(){
const apikey = "3265874a2c77ae4a04bb96236a642d2f";
let cityInfo = document.getElementById('city-input').value;
  
const url = `https://api.openweathermap.org/data/2.5/weather?q=${cityInfo}&appid=${apikey}`;

function getBackground(temperature){
  let bgColor;
if (temperature < 1){
bgColor = "#4b595e" ;
}else if (temperature > 29){
bgColor = "#ff6d6d";
}else if (temperature < 9){
bgColor = "#8ad0ce"
}else{
bgColor = "#ffe963"
}

document.body.style.backgroundColor = bgColor;

}


async function getWeatherByLocation(url, cityInfo) {
    const resp = await fetch(url, { origin: "cors" });
    const respData = await resp.json();
    const cityName = respData.name;
    const countryName= respData.sys.country;
    const weatherCond = respData.weather[0].main;
    const temperature = Math.floor(respData.main.temp - 273.15)
document.getElementById('root').innerText=` ${cityName} (${countryName}) : ${temperature} C 
${weatherCond} `;
getBackground(temperature);
return temperature;
}

 
getWeatherByLocation(url,cityInfo);
 

}; 
  </script>
</body>